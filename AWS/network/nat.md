# NAT
Private Subnet 내 서버들이 외부와 통신을 하기 위해서 NAT 서버를 Public Subnet 안에 구축하여 NAT를 통해 외부와 통신하게 한다.
## NAT 게이트웨이 vs NAT 인스턴스
| 속성 | NAT 게이트웨이 | NAT 인스턴스 |
| --- | --- | ---|
|유효성| 각 가용영역에 자동으로 중복 구성(고가용성) | 스크립트를 통해 장애조치 관리|
|대역폭 | 45Gbps까지 확장 가능 | 인스턴스에 따라 다름 (단일 병목 지점의 위험)|
|유지| AWS에서 관리 | 인스턴스에 소프트웨어 업데이트 또는 운영체제 patch 설치하여 사용자가 관리|
|공용 IP주소 | 생성시에 연결할 EIP 주소 선택 (1개만 가능) | 언제든지 EIP or Public IP 변경 가능|
|보안 그룹|게이트웨이와 연결 불가, 뒤의 리소스와 연결하여 제어| 인스턴스 및 인스턴스 뒤의 리소스와 연결하여 제어|
|Bastion Server| 지원 X | Bastion Server로 사용 가능|
| 포트포워딩 | 지원 X | 구성을 커스텀하여 가능 |
|Timeout시 동작| RST 패킷 반환(Reset) | 연결 종료를 위해 FIN 패킷 반환|
|IP fragmentation| UDP에 대해서 지원 | UDP, TCP, ICMP에 대해 모두 지원|
